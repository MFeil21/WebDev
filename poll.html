<!DOCTYPE html>
<html lang="de">
<head>
    <meta name="author" content="Team MathesFeilWetzl" charset="utf-8">
    <meta name="description" content="Umfrage">
    <title>Umfrage</title>
    <style media="screen" type="text/css">
        header {
            display: flex;
            justify-content: center;
        }
        }
        section {
            float: left;
        }
        fieldset {
            min-height: 200px;
            display:grid;
            grid: auto / auto auto auto;
        }
        footer {
            clear: left;
            padding-top: 5px;
        }
        img {
            max-width: 150px;
            max-height: 150px;
        }
    </style>
</head>
<body>  
    <main title="Content">
        <section title="Kandidaten" action="poll.php">
            <fieldset>
                <legend>Kandidaten</legend>
                <figure id="1">
                    <img src="candidate.png"  alt="Kandidat">
                    <figcaption>Kandidat 1</figcaption>
                </figure>
                <figure id="2">
                    <img src="candidate.png"  alt="Kandidat">
                    <figcaption>Kandidat 2</figcaption>
                </figure>
                <figure id="3">
                    <img src="candidate.png"  alt="Kandidat">
                    <figcaption>Kandidat 3</figcaption>
                </figure>
                <figure id="4">
                    <img src="candidate.png"  alt="Kandidat">
                    <figcaption>Kandidat 4</figcaption>
                </figure>
                <figure id="5">
                    <img src="candidate.png"  alt="Kandidat">
                    <figcaption>Kandidat 5</figcaption>
                </figure>
            </fieldset>
    </main>
    <footer title="Disclaimer">
        <p> Art. 38</p>
        <ul>
        <li><data value="200">(1) Die Abgeordneten des Deutschen Bundestages werden in allgemeiner, unmittelbarer, freier, gleicher und geheimer Wahl gewählt. Sie sind Vertreter des ganzen Volkes, an Aufträge und Weisungen nicht gebunden und nur ihrem Gewissen unterworfen.</data></li>
        <li><data value="201">(2) Wahlberechtigt ist, wer das achtzehnte Lebensjahr vollendet hat; wählbar ist, wer das Alter erreicht hat, mit dem die Volljährigkeit eintritt.</data></li>
        <li><data value="202">(3) Das Nähere bestimmt ein Bundesgesetz.</data></li>
        </ul>
        gemäß <a href="https://www.gesetze-im-internet.de/gg/art_38.html" title="Grundgesetz">Grundgesetz.</a>
    </footer>



    <!-- Test Button für Submit&Forward PHP - Daten werden nicht übergeben, da nicht in Fom enthalten -->
    <form name="stimmen" method="post" action="poll.php">
    <input type="submit" name="Absenden" id="Absenden" value="Absenden">
    </form>

    <!-- function ist nicht in der Lage, Daten zu übergeben an php-File  -->
    <script type="text/javascript">
        let candidates = document.querySelectorAll("figure")
        candidates.forEach(item => {
            item.onclick = (event) => {
                console.log("you voted candidate " + item.id)
                fetchcall()
                function fetchcall () {
                    var id = item.id;
                    fetch("poll.php", { method: "POST", body: id })
                    console.log("Log innerhalb der funktion")
                    }
                }
            })
    </script>
  
</body>
</html>